<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SEEL_Apps.utilitiesClass &mdash; SEELablet Applications 1.0.5 documentation</title>
    
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="file:///usr/share/javascript/mathjax/MathJax.js"></script>
    <link rel="top" title="SEELablet Applications 1.0.5 documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">SEELablet Applications 1.0.5 documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for SEEL_Apps.utilitiesClass</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">time</span><span class="o">,</span><span class="nn">random</span><span class="o">,</span><span class="nn">functools</span><span class="o">,</span><span class="nn">pkgutil</span><span class="o">,</span><span class="nn">importlib</span><span class="o">,</span><span class="nn">functools</span><span class="o">,</span><span class="nn">pkg_resources</span>

<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span><span class="nn">numbers</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;QT_API&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;pyqt&#39;</span>
<span class="kn">import</span> <span class="nn">sip</span>
<span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s">&quot;QString&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s">&quot;QVariant&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span>
<span class="kn">import</span> <span class="nn">pyqtgraph</span> <span class="kn">as</span> <span class="nn">pg</span>
<span class="kn">from</span> <span class="nn">SEEL_Apps.templates.widgets</span> <span class="kn">import</span> <span class="n">ui_dial</span> <span class="k">as</span> <span class="n">dial</span><span class="p">,</span><span class="n">ui_button</span> <span class="k">as</span> <span class="n">button</span><span class="p">,</span><span class="n">ui_selectAndButton</span> <span class="k">as</span> <span class="n">selectAndButton</span><span class="p">,</span><span class="n">ui_sineWidget</span> <span class="k">as</span> <span class="n">sineWidget</span><span class="p">,</span><span class="n">ui_pwmWidget</span> <span class="k">as</span> <span class="n">pwmWidget</span><span class="p">,</span><span class="n">ui_supplyWidget</span> <span class="k">as</span> <span class="n">supplyWidget</span><span class="p">,</span><span class="n">ui_setStateList</span> <span class="k">as</span> <span class="n">setStateList</span><span class="p">,</span><span class="n">ui_sensorWidget</span> <span class="k">as</span> <span class="n">sensorWidget</span><span class="p">,</span><span class="n">ui_simpleButton</span> <span class="k">as</span> <span class="n">simpleButton</span><span class="p">,</span> <span class="n">ui_dualButton</span> <span class="k">as</span> <span class="n">dualButton</span>
<span class="kn">from</span> <span class="nn">SEEL_Apps.templates.widgets</span> <span class="kn">import</span> <span class="n">ui_spinBox</span> <span class="k">as</span> <span class="n">spinBox</span><span class="p">,</span><span class="n">ui_doubleSpinBox</span> <span class="k">as</span> <span class="n">doubleSpinBox</span><span class="p">,</span><span class="n">ui_dialAndDoubleSpin</span> <span class="k">as</span> <span class="n">dialAndDoubleSpin</span><span class="p">,</span><span class="n">ui_pulseCounter</span> <span class="k">as</span> <span class="n">pulseCounter</span><span class="p">,</span><span class="n">ui_voltWidget</span> <span class="k">as</span> <span class="n">voltWidget</span><span class="p">,</span><span class="n">ui_gainWidget</span> <span class="k">as</span> <span class="n">gainWidget</span><span class="p">,</span><span class="n">ui_gainWidgetCombined</span> <span class="k">as</span> <span class="n">gainWidgetCombined</span><span class="p">,</span><span class="n">ui_widebutton</span> <span class="k">as</span> <span class="n">widebutton</span><span class="p">,</span><span class="n">ui_displayWidget</span> <span class="k">as</span> <span class="n">displayWidget</span>
<span class="kn">from</span> <span class="nn">SEEL_Apps</span> <span class="kn">import</span> <span class="n">saveProfile</span>
<span class="kn">from</span> <span class="nn">SEEL.commands_proto</span> <span class="kn">import</span> <span class="n">applySIPrefix</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">_fromUtf8</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QString</span><span class="o">.</span><span class="n">fromUtf8</span>
<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">_fromUtf8</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">s</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">_encoding</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span>
    <span class="k">def</span> <span class="nf">_translate</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">disambig</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">disambig</span><span class="p">,</span> <span class="n">_encoding</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">_translate</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">disambig</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">disambig</span><span class="p">)</span>


<div class="viewcode-block" id="utilitiesClass"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass">[docs]</a><span class="k">class</span> <span class="nc">utilitiesClass</span><span class="p">():</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	This class contains methods that simplify setting up and running</span>
<span class="sd">	an experiment.</span>
<span class="sd">	</span>
<span class="sd">	feature list : </span>
<span class="sd">	</span>
<span class="sd">	* 2D Plots</span>
<span class="sd">	</span>
<span class="sd">	  - Embed a PyQtgraph PlotWidget into a specified Qt Layout</span>
<span class="sd">	  - Add curves into a supplied PlotWidget, and maintain a list.</span>
<span class="sd">	  - Add crosshairs</span>
<span class="sd">	</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">timers</span><span class="o">=</span><span class="p">[]</span>
	<span class="n">viewBoxes</span><span class="o">=</span><span class="p">[]</span>
	<span class="n">plots3D</span><span class="o">=</span><span class="p">{}</span>
	<span class="n">plots2D</span><span class="o">=</span><span class="p">{}</span>
	<span class="n">total_plot_areas</span><span class="o">=</span><span class="mi">0</span>
	<span class="n">funcList</span><span class="o">=</span><span class="p">[]</span>
	<span class="n">interactivePlots</span><span class="o">=</span><span class="p">[]</span>
	<span class="n">gl</span><span class="o">=</span><span class="bp">None</span>
	<span class="n">black_trace_colors</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">10</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)]</span>
	<span class="n">white_trace_colors</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">100</span><span class="p">),(</span><span class="mi">10</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)]</span>
	<span class="n">black_trace_colors</span><span class="o">+=</span><span class="p">[</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)]</span>
	<span class="n">white_trace_colors</span><span class="o">+=</span><span class="p">[</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)]</span>
	
	<span class="n">studioPlots</span><span class="o">=</span><span class="p">{}</span>
	<span class="n">studioWidgets</span><span class="o">=</span><span class="p">{}</span>
	<span class="n">properties</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;colorScheme&#39;</span><span class="p">:</span><span class="s">&#39;black&#39;</span><span class="p">}</span>
	<span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
		<span class="s">&#39;W1&#39;</span><span class="p">:{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mi">5000</span><span class="p">,</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span><span class="s">&#39;Set the frequency of Wavegen 1(W1)&#39;</span><span class="p">},</span>
		<span class="s">&#39;W2&#39;</span><span class="p">:{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mi">5000</span><span class="p">,</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span><span class="s">&#39;Set the frequency of Wavegen 2(W2)&#39;</span><span class="p">},</span>
		<span class="s">&#39;SQR1&#39;</span><span class="p">:{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mi">100000</span><span class="p">,</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span><span class="s">&#39;Set the frequency of a Square Wave(SQR1)&#39;</span><span class="p">},</span>
		<span class="s">&#39;PV1&#39;</span><span class="p">:{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span><span class="s">&#39;Set the voltage of Programmable Voltage #1(PV1)&#39;</span><span class="p">},</span>
		<span class="s">&#39;PV2&#39;</span><span class="p">:{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="o">-</span><span class="mf">3.3</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mf">3.3</span><span class="p">,</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span><span class="s">&#39;Set the voltage of Programmable Voltage #2(PV2)&#39;</span><span class="p">},</span>
		<span class="s">&#39;PV3&#39;</span><span class="p">:{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mf">3.3</span><span class="p">,</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span><span class="s">&#39;Set the voltage of Programmable Voltage #3(PV3)&#39;</span><span class="p">},</span>
		<span class="s">&#39;PCS&#39;</span><span class="p">:{</span><span class="s">&#39;min&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;max&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;tooltip&#39;</span><span class="p">:</span><span class="s">&#39;Set the current of Programmable Current source(PCS)</span><span class="se">\n</span><span class="s">Subject to load resistance!&#39;</span><span class="p">},</span>
	<span class="p">}</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;/usr/share/seelablet&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="utilitiesClass.enableShortcuts"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.enableShortcuts">[docs]</a>	<span class="k">def</span> <span class="nf">enableShortcuts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Enable the following shortcuts :</span>
<span class="sd">		</span>
<span class="sd">		* CTRL-S : Opens the saveData window for saving trace data . It will load the coordinate data from all curves created using :func:`addCurve`</span>
<span class="sd">		</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">saveSignal</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QShortcut</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QKeySequence</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QCoreApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Ctrl+S&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)),</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">saveSignal</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">saveData</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="utilitiesClass.applySIPrefix"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.applySIPrefix">[docs]</a>	<span class="k">def</span> <span class="nf">applySIPrefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span> <span class="p">):</span>
			<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">			Convert a given value into scientific notation</span>
<span class="sd">			</span>
<span class="sd">			.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">			</span>
<span class="sd">			===============  ============================================================================================</span>
<span class="sd">			**Arguments** </span>
<span class="sd">			===============  ============================================================================================</span>
<span class="sd">			value            The number to convert into a human readable form</span>
<span class="sd">			unit             SI units to suffix. Leave blank if not needed</span>
<span class="sd">			precision        Decimal precision digits</span>
<span class="sd">			===============  ============================================================================================</span>

<span class="sd">			.. code-block:: python</span>

<span class="sd">				applySIPrefix(1010,&#39;Hz&#39;)</span>
<span class="sd">				&gt;&gt;&gt; 1.01kHz</span>
<span class="sd">			</span>
<span class="sd">			&quot;&quot;&quot;</span>

			<span class="n">neg</span> <span class="o">=</span> <span class="bp">False</span>
			<span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mf">0.</span><span class="p">:</span>
				<span class="n">value</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">neg</span> <span class="o">=</span> <span class="bp">True</span>
			<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">:</span>  <span class="k">return</span> <span class="s">&#39;0 &#39;</span>  <span class="c"># mantissa &amp; exponnt both 0</span>
			<span class="n">exponent</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
			<span class="k">if</span> <span class="n">exponent</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
				<span class="n">exponent</span> <span class="o">=</span> <span class="p">(</span><span class="n">exponent</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">exponent</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">exponent</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">//</span> <span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>

			<span class="n">value</span> <span class="o">*=</span> <span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">exponent</span><span class="p">)</span> <span class="p">)</span>
			<span class="k">if</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mf">1000.</span><span class="p">:</span>
				<span class="n">value</span> <span class="o">/=</span> <span class="mf">1000.0</span>
				<span class="n">exponent</span> <span class="o">+=</span> <span class="mi">3</span>
			<span class="k">if</span> <span class="n">neg</span><span class="p">:</span>
				<span class="n">value</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
			<span class="n">exponent</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">exponent</span><span class="p">)</span>
			<span class="n">PREFIXES</span> <span class="o">=</span> <span class="s">&quot;yzafpnum kMGTPEZY&quot;</span>
			<span class="n">prefix_levels</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">PREFIXES</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
			<span class="n">si_level</span> <span class="o">=</span> <span class="n">exponent</span> <span class="o">//</span> <span class="mi">3</span>
			<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">si_level</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">prefix_levels</span><span class="p">:</span>
				<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Exponent out range of available prefixes.&quot;</span><span class="p">)</span>
			<span class="k">return</span> <span class="s">&#39;</span><span class="si">%.*f</span><span class="s"> </span><span class="si">%s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">precision</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span><span class="n">PREFIXES</span><span class="p">[</span><span class="n">si_level</span> <span class="o">+</span> <span class="n">prefix_levels</span><span class="p">],</span><span class="n">unit</span><span class="p">)</span>
</div>
	<span class="k">class</span> <span class="nc">utils</span><span class="p">:</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">pass</span>

		<span class="k">def</span> <span class="nf">applySIPrefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span> <span class="p">):</span>
				<span class="n">neg</span> <span class="o">=</span> <span class="bp">False</span>
				<span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mf">0.</span><span class="p">:</span>
					<span class="n">value</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">neg</span> <span class="o">=</span> <span class="bp">True</span>
				<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">:</span>  <span class="k">return</span> <span class="s">&#39;0 &#39;</span>  <span class="c"># mantissa &amp; exponnt both 0</span>
				<span class="n">exponent</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
				<span class="k">if</span> <span class="n">exponent</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
					<span class="n">exponent</span> <span class="o">=</span> <span class="p">(</span><span class="n">exponent</span> <span class="o">//</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">exponent</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">exponent</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">//</span> <span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>

				<span class="n">value</span> <span class="o">*=</span> <span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">exponent</span><span class="p">)</span> <span class="p">)</span>
				<span class="k">if</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mf">1000.</span><span class="p">:</span>
					<span class="n">value</span> <span class="o">/=</span> <span class="mf">1000.0</span>
					<span class="n">exponent</span> <span class="o">+=</span> <span class="mi">3</span>
				<span class="k">if</span> <span class="n">neg</span><span class="p">:</span>
					<span class="n">value</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
				<span class="n">exponent</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">exponent</span><span class="p">)</span>
				<span class="n">PREFIXES</span> <span class="o">=</span> <span class="s">&quot;yzafpnum kMGTPEZY&quot;</span>
				<span class="n">prefix_levels</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">PREFIXES</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
				<span class="n">si_level</span> <span class="o">=</span> <span class="n">exponent</span> <span class="o">//</span> <span class="mi">3</span>
				<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">si_level</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">prefix_levels</span><span class="p">:</span>
					<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Exponent out range of available prefixes.&quot;</span><span class="p">)</span>
				<span class="k">return</span> <span class="s">&#39;</span><span class="si">%.*f</span><span class="s"> </span><span class="si">%s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">precision</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span><span class="n">PREFIXES</span><span class="p">[</span><span class="n">si_level</span> <span class="o">+</span> <span class="n">prefix_levels</span><span class="p">],</span><span class="n">unit</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">__importGL__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">print</span> <span class="p">(</span><span class="s">&#39;importing opengl&#39;</span><span class="p">)</span>
		<span class="kn">import</span> <span class="nn">pyqtgraph.opengl</span> <span class="kn">as</span> <span class="nn">gl</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">gl</span> <span class="o">=</span> <span class="n">gl</span>

	<span class="k">def</span> <span class="nf">updateViews</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot</span><span class="o">.</span><span class="n">viewBoxes</span><span class="p">:</span>
			<span class="n">a</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">getViewBox</span><span class="p">()</span><span class="o">.</span><span class="n">sceneBoundingRect</span><span class="p">())</span>
			<span class="n">a</span><span class="o">.</span><span class="n">linkedViewChanged</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">vb</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">XAxis</span><span class="p">)</span>

<div class="viewcode-block" id="utilitiesClass.setColorSchemeWhite"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.setColorSchemeWhite">[docs]</a>	<span class="k">def</span> <span class="nf">setColorSchemeWhite</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Set the plot background to white . This will also automatically change trace colours.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s">&#39;colorScheme&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;white&#39;</span>
		<span class="k">for</span> <span class="n">plot</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">:</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">plot</span><span class="o">.</span><span class="n">setBackground</span><span class="p">((</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="k">pass</span>

			<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;left&#39;</span><span class="p">,</span><span class="s">&#39;bottom&#39;</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">]:</span>
				<span class="k">try</span><span class="p">:</span>
					<span class="n">axis</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
					<span class="n">axis</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
				<span class="k">except</span><span class="p">:</span>
					<span class="k">pass</span>
			
			<span class="n">n</span><span class="o">=</span><span class="mi">0</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">plot</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">PlotWidget</span><span class="o">.</span><span class="n">PlotWidget</span><span class="p">):</span>  <span class="c">#Only consider curves part of the main left axis</span>
				<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]:</span> <span class="c">#Change curve colors to match white background</span>
					<span class="n">c</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">white_trace_colors</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
					<span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
					<span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">54</span><span class="p">):</span><span class="k">break</span>

				<span class="k">try</span><span class="p">:</span>
					<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]</span><span class="o">.</span><span class="n">viewBoxes</span><span class="p">:</span>  <span class="c">#Go through the additional axes too</span>
						<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">d</span><span class="p">]:</span>
							<span class="n">f</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">white_trace_colors</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
							<span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
							<span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">54</span><span class="p">):</span><span class="k">break</span>
				<span class="k">except</span><span class="p">:</span> <span class="k">pass</span>

				<span class="k">try</span><span class="p">:</span>
					<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">plot</span><span class="o">.</span><span class="n">axisItems</span><span class="p">:</span>  <span class="c">#Go through any additional axes, and set colors there too</span>
						<span class="n">d</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
				<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s">&#39;error while changing scheme&#39;</span><span class="p">,</span><span class="n">ex</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="utilitiesClass.rightClickToZoomOut"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.rightClickToZoomOut">[docs]</a>	<span class="k">def</span> <span class="nf">rightClickToZoomOut</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Enables zooming out when the user presses the right mouse button on the plot</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot             The plot to activate this feature on</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="n">clickEvent</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">autoRangePlot</span><span class="p">,</span><span class="n">plot</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">pg</span><span class="o">.</span><span class="n">SignalProxy</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">sigMouseClicked</span><span class="p">,</span> <span class="n">rateLimit</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">slot</span><span class="o">=</span><span class="n">clickEvent</span><span class="p">)</span>
</div>
	<span class="k">def</span> <span class="nf">autoRangePlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">evt</span><span class="p">):</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="n">evt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span>  <span class="c">## using signal proxy turns original arguments into a tuple</span>
		<span class="k">if</span> <span class="n">plot</span><span class="o">.</span><span class="n">sceneBoundingRect</span><span class="p">()</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span> <span class="ow">and</span> <span class="n">evt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightButton</span><span class="p">:</span>
			<span class="n">plot</span><span class="o">.</span><span class="n">enableAutoRange</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span>

<div class="viewcode-block" id="utilitiesClass.enableCrossHairs"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.enableCrossHairs">[docs]</a>	<span class="k">def</span> <span class="nf">enableCrossHairs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">curves</span><span class="o">=</span><span class="p">[]):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Enables crosshairs on the specified plot</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot             The plot to activate this feature on</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="n">plot</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
		<span class="n">vLine</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">InfiniteLine</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">movable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">pen</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">])</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">vLine</span><span class="p">,</span> <span class="n">ignoreBounds</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
		<span class="n">hLine</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">InfiniteLine</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">movable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">pen</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">])</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">hLine</span><span class="p">,</span> <span class="n">ignoreBounds</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">hLine</span> <span class="o">=</span> <span class="n">hLine</span><span class="p">;</span> <span class="n">plot</span><span class="o">.</span><span class="n">vLine</span> <span class="o">=</span> <span class="n">vLine</span>
		<span class="n">crossHairPartial</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crossHairEvent</span><span class="p">,</span><span class="n">plot</span><span class="p">)</span>
		<span class="n">proxy</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">SignalProxy</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">sigMouseClicked</span><span class="p">,</span> <span class="n">rateLimit</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">slot</span><span class="o">=</span><span class="n">crossHairPartial</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">proxy</span> <span class="o">=</span> <span class="n">proxy</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">mousePoint</span><span class="o">=</span><span class="bp">None</span>
</div>
	<span class="k">def</span> <span class="nf">crossHairEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">evt</span><span class="p">):</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="n">evt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span>  <span class="c">## using signal proxy turns original arguments into a tuple</span>
		<span class="k">if</span> <span class="n">plot</span><span class="o">.</span><span class="n">sceneBoundingRect</span><span class="p">()</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
			<span class="n">plot</span><span class="o">.</span><span class="n">mousePoint</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">getPlotItem</span><span class="p">()</span><span class="o">.</span><span class="n">vb</span><span class="o">.</span><span class="n">mapSceneToView</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
			<span class="n">plot</span><span class="o">.</span><span class="n">vLine</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">mousePoint</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
			<span class="n">plot</span><span class="o">.</span><span class="n">hLine</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">mousePoint</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>

<div class="viewcode-block" id="utilitiesClass.displayCrossHairData"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.displayCrossHairData">[docs]</a>	<span class="k">def</span> <span class="nf">displayCrossHairData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">fmode</span><span class="p">,</span><span class="n">ns</span><span class="p">,</span><span class="n">tg</span><span class="p">,</span><span class="n">axes</span><span class="p">,</span><span class="n">cols</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		.. warning:: beta function to extract specific coordinate data from curves , and show them as the plot title</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot             The plot to activate this feature on</span>
<span class="sd">		fmode            Set to True if fourier transform mode is active</span>
<span class="sd">		ns               Number of samples</span>
<span class="sd">		tg               time gap</span>
<span class="sd">		axes             axes</span>
<span class="sd">		cols             list of trace colours</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		&quot;&quot;&quot;</span>


		<span class="k">if</span> <span class="n">plot</span><span class="o">.</span><span class="n">mousePoint</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">fmode</span><span class="p">:</span>
				<span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ns</span><span class="o">*</span><span class="n">plot</span><span class="o">.</span><span class="n">mousePoint</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">tg</span><span class="o">/</span><span class="mf">1e6</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">mousePoint</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="mf">1e6</span><span class="o">/</span><span class="n">tg</span><span class="p">)</span>

			<span class="n">maxIndex</span> <span class="o">=</span> <span class="n">ns</span>			
			<span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">maxIndex</span><span class="p">:</span>
				<span class="n">coords</span><span class="o">=</span><span class="s">&quot;&lt;span style=&#39;color: rgb(255,255,255)&#39;&gt;</span><span class="si">%s</span><span class="s">&lt;/span&gt;,&quot;</span><span class="o">%</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">index</span><span class="o">*</span><span class="n">tg</span><span class="o">/</span><span class="mf">1e6</span><span class="p">,</span><span class="s">&#39;S&#39;</span><span class="p">)</span>
				<span class="k">for</span> <span class="n">col</span><span class="p">,</span><span class="n">a</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span><span class="n">axes</span><span class="p">):</span>
						<span class="k">try</span><span class="p">:</span> <span class="n">coords</span><span class="o">+=</span><span class="s">&quot;&lt;span style=&#39;color: rgb</span><span class="si">%s</span><span class="s">&#39;&gt;</span><span class="si">%0.3f</span><span class="s">V&lt;/span&gt;,&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
						<span class="k">except</span><span class="p">:</span> <span class="k">pass</span>
				<span class="c">#self.coord_label.setText(coords)</span>
				<span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
				<span class="n">plot</span><span class="o">.</span><span class="n">vLine</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
				<span class="n">plot</span><span class="o">.</span><span class="n">hLine</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="utilitiesClass.setColorSchemeBlack"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.setColorSchemeBlack">[docs]</a>	<span class="k">def</span> <span class="nf">setColorSchemeBlack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Changes plot background to black. Also changes plot colours</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s">&#39;colorScheme&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;black&#39;</span>
		<span class="k">for</span> <span class="n">plot</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">:</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">plot</span><span class="o">.</span><span class="n">setBackground</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="k">pass</span>
			<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;left&#39;</span><span class="p">,</span><span class="s">&#39;bottom&#39;</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">]:</span>
				<span class="k">try</span><span class="p">:</span>
					<span class="n">axis</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
					<span class="n">axis</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
				<span class="k">except</span><span class="p">:</span>
					<span class="k">pass</span>

			<span class="n">n</span><span class="o">=</span><span class="mi">0</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">plot</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">PlotWidget</span><span class="o">.</span><span class="n">PlotWidget</span><span class="p">):</span>  <span class="c">#Only consider curves part of the main left axis</span>
				<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]:</span> <span class="c">#Change curve colors to match black background</span>
					<span class="n">c</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">black_trace_colors</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
					<span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
					<span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">54</span><span class="p">):</span><span class="k">break</span>

				<span class="k">try</span><span class="p">:</span>
					<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]</span><span class="o">.</span><span class="n">viewBoxes</span><span class="p">:</span>  <span class="c">#Go through the additional axes too</span>
						<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">d</span><span class="p">]:</span>
							<span class="n">f</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">black_trace_colors</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
							<span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
							<span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">54</span><span class="p">):</span><span class="k">break</span>
				<span class="k">except</span><span class="p">:</span> <span class="k">pass</span>

				<span class="k">try</span><span class="p">:</span>
					<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">plot</span><span class="o">.</span><span class="n">axisItems</span><span class="p">:</span>  <span class="c">#Go through any additional axes, and set colors there too</span>
						<span class="n">d</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
				<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s">&#39;error while changing scheme&#39;</span><span class="p">,</span><span class="n">ex</span><span class="p">)</span>




				<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]:</span> <span class="c">#Change curve colors to match black background</span>
					<span class="n">c</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">black_trace_colors</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
					<span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
					<span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">54</span><span class="p">):</span><span class="k">break</span>
		</div>
<div class="viewcode-block" id="utilitiesClass.random_color"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.random_color">[docs]</a>	<span class="k">def</span> <span class="nf">random_color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Generate a random colour</span>
<span class="sd">		</span>
<span class="sd">		:return: QtGui.QColor object</span>
<span class="sd">		&quot;&quot;&quot;</span>


		<span class="n">c</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>
		<span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">getRgb</span><span class="p">())</span><span class="o">&lt;</span><span class="mi">150</span><span class="p">:</span>
			<span class="n">c</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_color</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">c</span>
</div>
<div class="viewcode-block" id="utilitiesClass.add2DPlot"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.add2DPlot">[docs]</a>	<span class="k">def</span> <span class="nf">add2DPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_area</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Add a 2D plot to a specified Qt Layout</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot_area        QtGui.&lt;some layout&gt; to add a 2D plot to</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: pyqtgraph.PlotWidget</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="n">plot</span><span class="o">=</span><span class="n">pg</span><span class="o">.</span><span class="n">PlotWidget</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
		<span class="n">plot_area</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
		
		<span class="n">plot</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="s">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setGrid</span><span class="p">(</span><span class="mi">170</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="s">&#39;bottom&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setGrid</span><span class="p">(</span><span class="mi">170</span><span class="p">)</span>

		<span class="n">plot</span><span class="o">.</span><span class="n">viewBoxes</span><span class="o">=</span><span class="p">[]</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">axisItems</span><span class="o">=</span><span class="p">[]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]</span><span class="o">=</span><span class="p">[]</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s">&#39;colorScheme&#39;</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;white&#39;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setColorSchemeWhite</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">plot</span>

</div>
<div class="viewcode-block" id="utilitiesClass.add3DPlot"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.add3DPlot">[docs]</a>	<span class="k">def</span> <span class="nf">add3DPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_area</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Add a 3D plot to a specified Qt Layout</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot_area        QtGui.&lt;some layout&gt; to add a 3D plot to</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: pyqtgraph.gl.GLViewWidget</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">gl</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">__importGL__</span><span class="p">()</span>
		<span class="n">plot3d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gl</span><span class="o">.</span><span class="n">GLViewWidget</span><span class="p">()</span>
		<span class="c">#gx = self.gl.GLGridItem();gx.rotate(90, 0, 1, 0);gx.translate(-10, 0, 0);self.plot.addItem(gx)</span>
		<span class="c">#gy = self.gl.GLGridItem();gy.rotate(90, 1, 0, 0);gy.translate(0, -10, 0);self.plot.addItem(gy)</span>
		<span class="n">gz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gl</span><span class="o">.</span><span class="n">GLGridItem</span><span class="p">();</span><span class="c">#gz.translate(0, 0, -10);</span>
		<span class="n">plot3d</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">gz</span><span class="p">);</span>
		<span class="n">plot3d</span><span class="o">.</span><span class="n">opts</span><span class="p">[</span><span class="s">&#39;distance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">40</span>
		<span class="n">plot3d</span><span class="o">.</span><span class="n">opts</span><span class="p">[</span><span class="s">&#39;elevation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
		<span class="n">plot3d</span><span class="o">.</span><span class="n">opts</span><span class="p">[</span><span class="s">&#39;azimuth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span>
		<span class="n">plot3d</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
		<span class="n">plot_area</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">plot3d</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">plots3D</span><span class="p">[</span><span class="n">plot3d</span><span class="p">]</span><span class="o">=</span><span class="p">[]</span>
		<span class="n">plot3d</span><span class="o">.</span><span class="n">plotLines3D</span><span class="o">=</span><span class="p">[]</span>
		<span class="k">return</span> <span class="n">plot3d</span>

</div>
<div class="viewcode-block" id="utilitiesClass.addCurve"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.addCurve">[docs]</a>	<span class="k">def</span> <span class="nf">addCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Add a new curve to a 2D plot</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot             QPlotWidget created using :func:`add2DPlot`</span>
<span class="sd">		name             something to call this trace. Shown in the legend too</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: pyqtgraph.PlotDataItem</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)):</span><span class="n">curve</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">PlotDataItem</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span><span class="n">curve</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">PlotCurveItem</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s">&#39;colorScheme&#39;</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;white&#39;</span><span class="p">:</span>
			<span class="n">curve</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;pen&#39;</span><span class="p">,{</span><span class="s">&#39;color&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">white_trace_colors</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">])],</span><span class="s">&#39;width&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}))</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s">&#39;colorScheme&#39;</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;black&#39;</span><span class="p">:</span>
			<span class="n">curve</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;pen&#39;</span><span class="p">,{</span><span class="s">&#39;color&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">black_trace_colors</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">])],</span><span class="s">&#39;width&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}))</span>
		<span class="c">#print (self.black_trace_colors[len(self.plots2D[plot])] , len(self.plots2D[plot]) )</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">curve</span>
</div>
<div class="viewcode-block" id="utilitiesClass.removeCurve"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.removeCurve">[docs]</a>	<span class="k">def</span> <span class="nf">removeCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="n">curve</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Remove a curve from a plot</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot             pyqtgraph.PlotWidget created using :func:`add2DPlot`</span>
<span class="sd">		name             pyqtgraph.PlotDataItem created for the specified plot using :func:`addCurve`</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">removeItem</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">plot</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">curve</span><span class="p">))</span>
		<span class="k">except</span><span class="p">:</span>
			<span class="k">pass</span>

</div>
	<span class="k">def</span> <span class="nf">rebuildLegend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">plot</span><span class="o">.</span><span class="n">addLegend</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>


<div class="viewcode-block" id="utilitiesClass.fetchColumns"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.fetchColumns">[docs]</a>	<span class="k">def</span> <span class="nf">fetchColumns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtablewidget</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Fetch columns from a QTableWidget</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		qtablewidget     Widget in question</span>
<span class="sd">		*args            columns numbers</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: 2D array of requested elements [[col1R0,col1,R1,col1,R3...col1Rn],[col2R0,col2,R1,col2,R3...col2Rn], ...]</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">data</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))]</span>
		<span class="n">pos</span><span class="o">=</span><span class="mi">0</span>
		<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
				<span class="n">item</span> <span class="o">=</span> <span class="n">qtablewidget</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">item</span><span class="p">:</span>
					<span class="k">try</span><span class="p">:</span>
						<span class="n">data</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">text</span><span class="p">()))</span>
					<span class="k">except</span><span class="p">:</span>
						<span class="k">break</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="k">break</span>
			<span class="n">pos</span><span class="o">+=</span><span class="mi">1</span>
		<span class="k">return</span> <span class="n">data</span>
</div>
	<span class="k">def</span> <span class="nf">fetchSelectedItemsFromColumns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtablewidget</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="n">data</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))]</span>
		<span class="n">pos</span><span class="o">=</span><span class="mi">0</span>
		<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
				<span class="n">item</span> <span class="o">=</span> <span class="n">qtablewidget</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">item</span><span class="p">:</span>
					<span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">isSelected</span><span class="p">():</span>
						<span class="k">try</span><span class="p">:</span>
							<span class="n">data</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">text</span><span class="p">()))</span>
						<span class="k">except</span><span class="p">:</span>
							<span class="k">break</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="k">break</span>
			<span class="n">pos</span><span class="o">+=</span><span class="mi">1</span>
		<span class="k">return</span> <span class="n">data</span>


	<span class="k">def</span> <span class="nf">newPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">plot_ext</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">GraphicsWindow</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;title&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">curve_ext</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_ext</span><span class="o">.</span><span class="n">addPlot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;title&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span><span class="n">connect</span><span class="o">=</span><span class="s">&#39;finite&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">curve_ext</span><span class="o">.</span><span class="n">setLabel</span><span class="p">(</span><span class="s">&#39;bottom&#39;</span><span class="p">,</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;xLabel&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">curve_ext</span><span class="o">.</span><span class="n">setLabel</span><span class="p">(</span><span class="s">&#39;left&#39;</span><span class="p">,</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;yLabel&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>

<div class="viewcode-block" id="utilitiesClass.addAxis"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.addAxis">[docs]</a>	<span class="k">def</span> <span class="nf">addAxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Add an axis on the right side</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		plot             pyqtgraph.PlotWidget</span>
<span class="sd">		*args            </span>
<span class="sd">		1. label         Label of the new axis</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: pg.ViewBox</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">p3</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">ViewBox</span><span class="p">()</span>
		<span class="n">ax3</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">AxisItem</span><span class="p">(</span><span class="s">&#39;right&#39;</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">ax3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">axisItems</span><span class="p">))</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>
		<span class="n">ax3</span><span class="o">.</span><span class="n">linkToView</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>
		<span class="n">p3</span><span class="o">.</span><span class="n">setXLink</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="p">)</span>
		<span class="n">ax3</span><span class="o">.</span><span class="n">setZValue</span><span class="p">(</span><span class="o">-</span><span class="mi">10000</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;label&#39;</span><span class="p">,</span><span class="bp">False</span><span class="p">):</span>
			<span class="n">ax3</span><span class="o">.</span><span class="n">setLabel</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;label&#39;</span><span class="p">,</span><span class="bp">False</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;color&#39;</span><span class="p">,</span><span class="s">&#39;#ffffff&#39;</span><span class="p">))</span>

		<span class="n">p3</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">vb</span><span class="o">.</span><span class="n">sceneBoundingRect</span><span class="p">())</span>
		<span class="n">p3</span><span class="o">.</span><span class="n">linkedViewChanged</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">vb</span><span class="p">,</span> <span class="n">p3</span><span class="o">.</span><span class="n">XAxis</span><span class="p">)</span>
		<span class="c">## Handle view resizing </span>
		<span class="n">Callback</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateViews</span><span class="p">,</span><span class="n">plot</span><span class="p">)</span>		
		<span class="n">plot</span><span class="o">.</span><span class="n">getViewBox</span><span class="p">()</span><span class="o">.</span><span class="n">sigStateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">Callback</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">viewBoxes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">axisItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax3</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">p3</span><span class="p">]</span><span class="o">=</span><span class="p">[]</span>  <span class="c"># TODO do not consider a new axis as a plot. simply make it a part of the axisItems array of the main plot</span>
		<span class="k">return</span> <span class="n">p3</span>
</div>
	<span class="k">def</span> <span class="nf">enableRightAxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">):</span>
		<span class="n">p</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">ViewBox</span><span class="p">()</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">showAxis</span><span class="p">(</span><span class="s">&#39;right&#39;</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">setMenuEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="s">&#39;right&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">linkToView</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
		<span class="n">p</span><span class="o">.</span><span class="n">setXLink</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
		<span class="n">plot</span><span class="o">.</span><span class="n">viewBoxes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
		<span class="n">Callback</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateViews</span><span class="p">,</span><span class="n">plot</span><span class="p">)</span>		
		<span class="n">plot</span><span class="o">.</span><span class="n">getViewBox</span><span class="p">()</span><span class="o">.</span><span class="n">sigStateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">Callback</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s">&#39;colorScheme&#39;</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;white&#39;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setColorSchemeWhite</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">plots2D</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">=</span><span class="p">[]</span>
		<span class="k">return</span> <span class="n">p</span>


	<span class="k">def</span> <span class="nf">updateViews</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">plot</span><span class="o">.</span><span class="n">viewBoxes</span><span class="p">:</span>
			<span class="n">a</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">getViewBox</span><span class="p">()</span><span class="o">.</span><span class="n">sceneBoundingRect</span><span class="p">())</span>
			<span class="n">a</span><span class="o">.</span><span class="n">linkedViewChanged</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">plotItem</span><span class="o">.</span><span class="n">vb</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">XAxis</span><span class="p">)</span>



<div class="viewcode-block" id="utilitiesClass.loopTask"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.loopTask">[docs]</a>	<span class="k">def</span> <span class="nf">loopTask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">interval</span><span class="p">,</span><span class="n">func</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Execute a function every &#39;interval&#39; milliseconds</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		interval         Time delay between consecutive executions</span>
<span class="sd">		func             function to be run</span>
<span class="sd">		*args            arguments for that function. in order.</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the timer . You should store this if you will need to stop this event loop at some point</span>
<span class="sd">		</span>
<span class="sd">		.. code-block:: python</span>
<span class="sd">		</span>
<span class="sd">			tmr = loopTask(100,np.sin,np.pi/2)  #calculate sin(pi/2) every 100mS = 0.1 seconds			</span>
<span class="sd">			#equivalent to :</span>
<span class="sd">			while True:</span>
<span class="sd">				np.sin(np.pi/2)</span>
<span class="sd">				time.sleep(0.1)</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">timer</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QTimer</span><span class="p">()</span>
		<span class="n">timerCallback</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">func</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
		<span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">timerCallback</span><span class="p">)</span>
		<span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">timers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timer</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">timer</span>
		</div>
<div class="viewcode-block" id="utilitiesClass.delayedTask"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.delayedTask">[docs]</a>	<span class="k">def</span> <span class="nf">delayedTask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">interval</span><span class="p">,</span><span class="n">func</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Execute a function after &#39;interval&#39; milliseconds</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		interval         Time delay before execution</span>
<span class="sd">		func             function to be run</span>
<span class="sd">		*args            arguments for that function. in order.</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the timer . </span>
<span class="sd">		</span>
<span class="sd">		.. code-block:: python</span>
<span class="sd">		</span>
<span class="sd">			tmr = delayedTask(5000,np.sin,np.pi/2)  #calculate sin(pi/2) after 5 seconds			</span>
<span class="sd">			#equivalent to :</span>
<span class="sd">			time.sleep(5)</span>
<span class="sd">			np.sin(np.pi/2)</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>			
		<span class="n">timer</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QTimer</span><span class="p">()</span>
		<span class="n">timerCallback</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">func</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
		<span class="n">timer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="n">interval</span><span class="p">,</span><span class="n">timerCallback</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">timers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timer</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="utilitiesClass.killAllTimers"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.killAllTimers">[docs]</a>	<span class="k">def</span> <span class="nf">killAllTimers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Stop all timers created using either :func:`delayedTask` or :func:`loopTask`</span>
<span class="sd">		&quot;&quot;&quot;</span>			
		<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">timers</span><span class="p">:</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">a</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">timers</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="k">pass</span>
				</div>
<div class="viewcode-block" id="utilitiesClass.newTimer"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.newTimer">[docs]</a>	<span class="k">def</span> <span class="nf">newTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a QtCore.QTimer object and return it.</span>
<span class="sd">		A reference is also stored in order to keep track of it</span>
<span class="sd">		&quot;&quot;&quot;</span>			

		<span class="n">timer</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QTimer</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">timers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timer</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">timer</span>
</div>
<div class="viewcode-block" id="utilitiesClass.displayDialog"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.displayDialog">[docs]</a>	<span class="k">def</span> <span class="nf">displayDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">txt</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Show a pop up dialog with a message</span>
<span class="sd">		&quot;&quot;&quot;</span>			

		<span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">about</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;Message&#39;</span><span class="p">,</span>  <span class="n">txt</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="utilitiesClass.spinIcon"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.spinIcon">[docs]</a>	<span class="k">class</span> <span class="nc">spinIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">spinBox</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a widget with a number entry field, and an associated function that is called when the value of the field changes</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		*\*\kwargs</span>
<span class="sd">		TITLE            Text shown on the top section of the widget</span>
<span class="sd">		FUNC             function to be run when the value of the widget changes</span>
<span class="sd">		UNITS			 SI units of the entry field</span>
<span class="sd">		TOOLTIP          text to be displayed when the mouse hovers over the widget</span>
<span class="sd">		LINK             Another function to which the return value of FUNC is passed when an event occurs</span>
<span class="sd">		MIN              minimum limit for the number entry</span>
<span class="sd">		MAX              maximum limit for the number entry</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the spin widget . You may add this to any layout</span>
<span class="sd">		</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>			
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">spinIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;SCALE_FACTOR&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">spinBox</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MIN&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">spinBox</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MAX&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
			<span class="c">#self.value.setText(&#39;%.3f %s &#39;%(retval*self.scale,self.units))</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">retval</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span> <span class="p">))</span>
			<span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="utilitiesClass.doubleSpinIcon"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.doubleSpinIcon">[docs]</a>	<span class="k">class</span> <span class="nc">doubleSpinIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">doubleSpinBox</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a widget with a number entry field with decimal support, and an associated function that is called when the value of the field changes</span>
<span class="sd">			</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		*\*\kwargs</span>
<span class="sd">		TITLE            Text shown on the top section of the widget</span>
<span class="sd">		FUNC             function to be run when the value of the widget changes</span>
<span class="sd">		UNITS			 SI units of the entry field</span>
<span class="sd">		TOOLTIP          text to be displayed when the mouse hovers over the widget</span>
<span class="sd">		LINK             Another function to which the return value of FUNC is passed when an event occurs</span>
<span class="sd">		MIN              minimum limit for the number entry</span>
<span class="sd">		MAX              maximum limit for the number entry</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the double spin widget . You may add this to any layout</span>
<span class="sd">		</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>			
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">doubleSpinIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;SCALE_FACTOR&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">doubleSpinBox</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MIN&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">doubleSpinBox</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MAX&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">retval</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span> <span class="p">))</span>
			<span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
			<span class="c">#self.value.setText(&#39;%.3f %s &#39;%(retval*self.scale,self.units))</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="utilitiesClass.dialIcon"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.dialIcon">[docs]</a>	<span class="k">class</span> <span class="nc">dialIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">dial</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a widget with a knob, and an associated function that is called when the knob is turned by the user</span>
<span class="sd">		</span>
<span class="sd">		.. figure:: images/dialIcon.png</span>
<span class="sd">			:align: left</span>
<span class="sd">			:figclass: align-center</span>
<span class="sd">		</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		*\*\kwargs</span>
<span class="sd">		TITLE            Text shown on the top section of the widget</span>
<span class="sd">		FUNC             function to be run when the knob is turned</span>
<span class="sd">		UNITS			 SI units of the entry field</span>
<span class="sd">		TOOLTIP          text to be displayed when the mouse hovers over the widget</span>
<span class="sd">		LINK             Another function to which the return value of FUNC is passed when an event occurs</span>
<span class="sd">		MIN              minimum limit for the knob</span>
<span class="sd">		MAX              maximum limit for the knob</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the spin widget . You may add this to any layout</span>
<span class="sd">		</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>			
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">dialIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;SCALE_FACTOR&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">dial</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MIN&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">dial</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MAX&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
			<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
				<span class="n">retval</span> <span class="o">=</span> <span class="s">&#39;err&#39;</span>

			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">retval</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span> <span class="p">))</span>
				<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
					<span class="c">#self.linkObj.setText(&#39;%.3f %s &#39;%(retval*self.scale,self.units))</span>
			<span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="utilitiesClass.dialAndDoubleSpinIcon"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.dialAndDoubleSpinIcon">[docs]</a>	<span class="k">class</span> <span class="nc">dialAndDoubleSpinIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">dialAndDoubleSpin</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a widget with a knob, and an associated function that is called when the knob is turned by the user.</span>
<span class="sd">		It also contains a number entry field connected to the knob if the user wishes to manually enter a value</span>
<span class="sd">		</span>
<span class="sd">		.. figure:: images/dialAndDoubleSpinIcon.png</span>
<span class="sd">			:align: left</span>
<span class="sd">			:figclass: align-center</span>
<span class="sd">		</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		*\*\kwargs</span>
<span class="sd">		TITLE            Text shown on the top section of the widget</span>
<span class="sd">		FUNC             function to be run when the knob is turned</span>
<span class="sd">		UNITS			 SI units of the entry field</span>
<span class="sd">		TOOLTIP          text to be displayed when the mouse hovers over the widget</span>
<span class="sd">		LINK             Another function to which the return value of FUNC is passed when an event occurs</span>
<span class="sd">		MIN              minimum limit for the knob</span>
<span class="sd">		MAX              maximum limit for the knob</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the widget . You may add this to any layout</span>
<span class="sd">		</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>			
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">dialAndDoubleSpinIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setSuffix</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">dial</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MIN&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">dial</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MAX&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MIN&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;MAX&#39;</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">setDoubleValue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">dial</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
				<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="k">pass</span>
</div>
<div class="viewcode-block" id="utilitiesClass.buttonIcon"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.buttonIcon">[docs]</a>	<span class="k">class</span> <span class="nc">buttonIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">button</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a widget with a button, and an associated function that is called when the button is clicked.</span>
<span class="sd">		The return value of the function is shown in a label on the same widget</span>
<span class="sd">		</span>
<span class="sd">		.. figure:: images/buttonIcon.png</span>
<span class="sd">			:align: left</span>
<span class="sd">			:figclass: align-center</span>
<span class="sd">		</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		*\*\kwargs</span>
<span class="sd">		TITLE            Text shown on the top section of the widget</span>
<span class="sd">		FUNC             function to be run when the button is clicked</span>
<span class="sd">		UNITS			 SI units used when the user clicks the button, and the results are displayed in the label</span>
<span class="sd">		TOOLTIP          text to be displayed when the mouse hovers over the widget</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the widget . You may add this to any layout</span>
<span class="sd">		</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>	
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">buttonIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>


		<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">)</span> <span class="ow">and</span> <span class="n">retval</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">Inf</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span> <span class="p">))</span>
			<span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
</div>
	<span class="k">class</span> <span class="nc">simpleButtonIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">simpleButton</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">simpleButtonIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;CLICK&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>

<div class="viewcode-block" id="utilitiesClass.dualButtonIcon"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.dualButtonIcon">[docs]</a>	<span class="k">class</span> <span class="nc">dualButtonIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">dualButton</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a widget with two buttons, and associated functions that are called when the buttons are clicked.</span>
<span class="sd">		The return values of the functions are not shown</span>
<span class="sd">		</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		*\*\kwargs</span>
<span class="sd">		TITLE            Text shown on the top section of the widget</span>
<span class="sd">		A                Text shown on button A</span>
<span class="sd">		B                Text shown on button B</span>
<span class="sd">		FUNCA            function to be run when the first button is clicked</span>
<span class="sd">		FUNCB            function to be run when the second button is clicked</span>
<span class="sd">		UNITS			 SI units used when the user clicks the button, and the results are displayed in the label</span>
<span class="sd">		TOOLTIP          text to be displayed when the mouse hovers over the widget</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the widget . You may add this to any layout</span>
<span class="sd">		</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>	
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">dualButtonIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;select&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">funcA</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNCA&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">funcB</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNCB&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">buttonA</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;A&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">buttonB</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span><span class="s">&#39;B&#39;</span><span class="p">))</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">clickedA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">funcA</span><span class="p">()</span>

		<span class="k">def</span> <span class="nf">clickedB</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">funcB</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="utilitiesClass.wideButtonIcon"><a class="viewcode-back" href="../../utilities.html#SEEL_Apps.utilitiesClass.utilitiesClass.wideButtonIcon">[docs]</a>	<span class="k">class</span> <span class="nc">wideButtonIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">widebutton</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Create a widget with a wide button, and an associated function that is called when the button is clicked.</span>
<span class="sd">		The return value of the function is shown in a giant label on the same widget</span>
<span class="sd">		</span>
<span class="sd">		.. figure:: images/wideButtonIcon.png</span>
<span class="sd">			:align: left</span>
<span class="sd">			:figclass: align-center</span>
<span class="sd">		</span>
<span class="sd">		</span>
<span class="sd">		.. tabularcolumns:: |p{3cm}|p{11cm}|</span>
<span class="sd">		</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		**Arguments** </span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		*\*\kwargs</span>
<span class="sd">		TITLE            Text shown on the top section of the widget</span>
<span class="sd">		FUNC             function to be run when the button is clicked</span>
<span class="sd">		UNITS			 SI units used when the user clicks the button, and the results are displayed in the label</span>
<span class="sd">		TOOLTIP          text to be displayed when the mouse hovers over the widget</span>
<span class="sd">		===============  ============================================================================================</span>
<span class="sd">		</span>
<span class="sd">		:return: the widget . You may add this to any layout</span>
<span class="sd">		</span>
<span class="sd">			</span>
<span class="sd">		&quot;&quot;&quot;</span>			
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">wideButtonIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>


		<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">)</span> <span class="ow">and</span> <span class="n">retval</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">Inf</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span> <span class="p">))</span>
				<span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>
			<span class="k">except</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
</div>
	<span class="k">class</span> <span class="nc">displayIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">displayWidget</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">displayIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">retval</span><span class="p">):</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">):</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span> <span class="p">))</span>
				<span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>
			<span class="k">except</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>

	<span class="k">class</span> <span class="nc">selectAndButtonIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">selectAndButton</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">selectAndButtonIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TITLE&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;UNITS&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LABEL&#39;</span><span class="p">,</span><span class="s">&#39;Read&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">optionBox</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;OPTIONS&#39;</span><span class="p">,[]))</span>
			<span class="k">if</span> <span class="s">&#39;TOOLTIP&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">widgetFrameOuter</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">optionBox</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
			<span class="c">#if abs(retval)&lt;1e4 and abs(retval)&gt;.01:self.value.setText(&#39;%.3f %s &#39;%(retval,self.units))</span>
			<span class="c">#else: self.value.setText(&#39;%.3e %s &#39;%(retval,self.units))</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">)</span> <span class="ow">and</span> <span class="n">retval</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">Inf</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">retval</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span> <span class="p">))</span>
			<span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">gainIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">gainWidget</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">gainIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&quot;Set Input Attenuation&quot;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&quot;Note :&quot;</span><span class="p">);</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">setInformativeText</span><span class="p">(</span><span class="s">&quot;Please connect a 10MOhm resistor in series with this input&quot;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">setDetailedText</span><span class="p">(</span><span class="s">&quot;Connecting a 10MOhm resistor in series with the channel causes an 11x attenuation.</span><span class="se">\n</span><span class="s">The software automatically compensates for this, and assumes a +/-160V range </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">setGainCH1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">g</span><span class="p">):</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">g</span><span class="o">==</span><span class="mi">8</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
			<span class="n">retval</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="s">&#39;CH1&#39;</span><span class="p">,</span><span class="n">g</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">setGainCH2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">g</span><span class="p">):</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">g</span><span class="o">==</span><span class="mi">8</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
			<span class="n">retval</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="s">&#39;CH2&#39;</span><span class="p">,</span><span class="n">g</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">gainIconCombined</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">gainWidgetCombined</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">gainIconCombined</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;FUNC&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">setGains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">g</span><span class="p">):</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">g</span><span class="o">==</span><span class="mi">8</span><span class="p">):</span>
				<span class="n">msg</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
				<span class="n">msg</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
				<span class="n">msg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&quot;Set Input Attenuation&quot;</span><span class="p">)</span>
				<span class="n">msg</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&quot;Note :&quot;</span><span class="p">);</span>
				<span class="n">msg</span><span class="o">.</span><span class="n">setInformativeText</span><span class="p">(</span><span class="s">&quot;Please connect a 10MOhm resistor in series on both inputs&quot;</span><span class="p">)</span>
				<span class="n">msg</span><span class="o">.</span><span class="n">setDetailedText</span><span class="p">(</span><span class="s">&quot;Connecting a 10MOhm resistor in series with the channel causes an 11x attenuation.</span><span class="se">\n</span><span class="s">The software automatically compensates for this, and assumes a +/-160V range </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
				<span class="n">msg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="s">&#39;CH1&#39;</span><span class="p">,</span><span class="n">g</span><span class="p">)</span>
			<span class="n">retval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="s">&#39;CH2&#39;</span><span class="p">,</span><span class="n">g</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">linkFunc</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">pulseCounterIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">pulseCounter</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">pulseCounterIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">readfn</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">readPulseCount</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">resetfn</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">countPulses</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">channelBox</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">allDigitalChannels</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">readfn</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">retval</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">chan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channelBox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
			<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">chan</span><span class="p">):</span><span class="bp">self</span><span class="o">.</span><span class="n">resetfn</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">experimentIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">):</span>
		<span class="n">mouseHover</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">basepackage</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">launchfunc</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">experimentIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
			<span class="n">tmp</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">basepackage</span><span class="o">+</span><span class="s">&#39;.&#39;</span><span class="o">+</span><span class="n">name</span><span class="p">)</span>
			<span class="n">genName</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">genName</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hintText</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;hint&#39;</span><span class="p">,</span><span class="s">&#39;No summary available&#39;</span><span class="p">)</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="k">if</span> <span class="s">&#39;local&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span> <span class="n">imgloc</span> <span class="o">=</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="n">basepackage</span><span class="o">+</span><span class="s">&#39;.icons&#39;</span><span class="p">,</span> <span class="n">_fromUtf8</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;image&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span> <span class="p">))</span> 
				<span class="k">else</span><span class="p">:</span> <span class="n">imgloc</span> <span class="o">=</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="s">&#39;seel_res.ICONS&#39;</span><span class="p">,</span> <span class="n">_fromUtf8</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;image&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span> <span class="p">))</span> 
			<span class="k">except</span><span class="p">:</span>
				<span class="n">imgloc</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hintText</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span>
<span class="s">			&lt;img src=&quot;</span><span class="si">%s</span><span class="s">&quot; align=&quot;left&quot; width=&quot;150&quot; style=&quot;margin: 0 20&quot;/&gt;&lt;strong&gt;</span><span class="si">%s</span><span class="s">&lt;/strong&gt;&lt;br&gt;</span><span class="si">%s</span><span class="s"></span>
<span class="s">			&#39;&#39;&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">imgloc</span><span class="p">,</span><span class="n">genName</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span><span class="s">&#39; &#39;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">hintText</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">launchfunc</span>			
			<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Preferred</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">170</span><span class="p">)</span>
			<span class="c">#self.setStyleSheet(&quot;border-image: url(%s) 0 0 0 0 stretch stretch;color:white;&quot;%(pkg_resources.resource_filename(&#39;SEEL_Apps.icons&#39;, _fromUtf8(tmp.params.get(&#39;image&#39;,&#39;&#39;) ))))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s">&quot;color:black;background: qradialgradient(cx: 0.3, cy: -0.4,fx: 0.3, fy: -0.4,radius: 1.35, stop: 0 #fff, stop: 1 #bbb);&quot;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="c">#70)</span>

		<span class="k">def</span> <span class="nf">enterEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">mouseHover</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hintText</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">leaveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">mouseHover</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">experimentListItem</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">):</span>
		<span class="n">mouseHover</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">basepackage</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">launchfunc</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">experimentListItem</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
			<span class="n">tmp</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">basepackage</span><span class="o">+</span><span class="s">&#39;.&#39;</span><span class="o">+</span><span class="n">name</span><span class="p">)</span>
			<span class="n">genName</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="n">name</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">genName</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hintText</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;hint&#39;</span><span class="p">,</span><span class="s">&#39;No summary available&#39;</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hintText</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span>
<span class="s">			&lt;p&gt;&lt;strong&gt;</span><span class="si">%s</span><span class="s">&lt;/strong&gt;.&lt;/p&gt;</span>
<span class="s">			</span><span class="si">%s</span><span class="s"></span>
<span class="s">			&#39;&#39;&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">genName</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span><span class="s">&#39; &#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hintText</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">launchfunc</span>			
			<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
			<span class="c">#self.setMaximumWidth(170)</span>
			<span class="c">#self.setStyleSheet(&quot;border-image: url(%s) 0 0 0 0 stretch stretch;color:white;&quot;%(pkg_resources.resource_filename(basepackage, _fromUtf8(tmp.params.get(&#39;image&#39;,&#39;&#39;) ))))</span>

		<span class="k">def</span> <span class="nf">enterEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">mouseHover</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hintText</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">leaveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">mouseHover</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">sineWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,</span><span class="n">sineWidget</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">sineWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="n">I</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">commandLinkButton</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>  <span class="c">#TODO : </span>
			<span class="bp">self</span><span class="o">.</span><span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;sine&#39;</span><span class="p">,</span><span class="s">&#39;tria&#39;</span><span class="p">]</span>


		<span class="k">def</span> <span class="nf">loadSineTable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="p">:</span>
				<span class="kn">from</span> <span class="nn">SEEL_Apps.utilityApps</span> <span class="kn">import</span> <span class="n">loadSineTable</span>
				<span class="n">inst</span> <span class="o">=</span> <span class="n">loadSineTable</span><span class="o">.</span><span class="n">AppWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
				<span class="n">inst</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">print</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Device Not Connected!&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setSINE1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">f</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">set_w1</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">WAVE1_FREQ</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%.2f</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setSINE2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">f</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">set_w2</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">WAVE2_FREQ</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%.2f</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setSinePhase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">freq1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SINE1BOX</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
			<span class="n">freq2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SINE2BOX</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
			<span class="n">phase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SINEPHASE</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
			<span class="n">f</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">set_waves</span><span class="p">(</span><span class="n">freq1</span><span class="p">,</span><span class="n">phase</span><span class="p">,</span><span class="n">freq2</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">WAVE1_FREQ</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%.2f</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">WAVE2_FREQ</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%.2f</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setW1Type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">load_equation</span><span class="p">(</span><span class="s">&#39;W1&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">modes</span><span class="p">[</span><span class="n">val</span><span class="p">])</span>
		<span class="k">def</span> <span class="nf">setW2Type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">load_equation</span><span class="p">(</span><span class="s">&#39;W2&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">modes</span><span class="p">[</span><span class="n">val</span><span class="p">])</span>

	<span class="k">class</span> <span class="nc">sensorIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">sensorWidget</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cls</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">sensorIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cls</span> <span class="o">=</span> <span class="n">cls</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hintLabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;hint&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">getRaw</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">plotnames</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">PLOTNAMES</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">menu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">PermanentMenu</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">sub_menu</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMenu</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">:</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">ADDRESS</span><span class="p">),</span><span class="n">cls</span><span class="o">.</span><span class="n">name</span><span class="p">[:</span><span class="mi">15</span><span class="p">]))</span>
			<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">cls</span><span class="o">.</span><span class="n">params</span><span class="p">:</span> 
				<span class="n">mini</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sub_menu</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> 
				<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">cls</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
					<span class="n">Callback</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="n">a</span><span class="p">)</span>		
					<span class="n">mini</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="n">Callback</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sub_menu</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">formLayout</span><span class="o">.</span><span class="n">insertWidget</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">menu</span><span class="p">)</span>

		<span class="k">class</span> <span class="nc">PermanentMenu</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMenu</span><span class="p">):</span>
			<span class="k">def</span> <span class="nf">hideEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


		<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">retval</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">resultLabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;err&#39;</span><span class="p">)</span>
				<span class="k">return</span>
			<span class="n">res</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
			<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">retval</span><span class="p">)):</span>
				<span class="n">res</span><span class="o">+=</span><span class="bp">self</span><span class="o">.</span><span class="n">plotnames</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\t</span><span class="si">%.3e</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">retval</span><span class="p">[</span><span class="n">a</span><span class="p">])</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">resultLabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">pwmWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,</span><span class="n">pwmWidget</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">pwmWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="n">I</span>

		<span class="k">def</span> <span class="nf">setSQRS</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">P2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SQR2P</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="o">/</span><span class="mf">360.</span>
			<span class="n">P3</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SQR3P</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="o">/</span><span class="mf">360.</span>
			<span class="n">P4</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SQR4P</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="o">/</span><span class="mf">360.</span>
			<span class="n">D1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SQR1DC</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
			<span class="n">D2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SQR2DC</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
			<span class="n">D3</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SQR3DC</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
			<span class="n">D4</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SQR4DC</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
			
			<span class="n">retval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">sqrPWM</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SQRSF</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span><span class="n">D1</span><span class="p">,</span><span class="n">P2</span><span class="p">,</span><span class="n">D2</span><span class="p">,</span><span class="n">P3</span><span class="p">,</span><span class="n">D3</span><span class="p">,</span><span class="n">P4</span><span class="p">,</span><span class="n">D4</span><span class="p">)</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">SQRSF</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>
			<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
				<span class="k">print</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">fireSQR1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="p">:</span>
				<span class="kn">from</span> <span class="nn">SEEL_Apps.utilityApps</span> <span class="kn">import</span> <span class="n">firePulses</span>
				<span class="n">inst</span> <span class="o">=</span> <span class="n">firePulses</span><span class="o">.</span><span class="n">AppWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
				<span class="n">inst</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">print</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Device Not Connected!&#39;</span><span class="p">))</span>

	<span class="k">class</span> <span class="nc">voltWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,</span><span class="n">voltWidget</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">voltWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

			<span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="n">I</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">col1</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;CH1&#39;</span><span class="p">,</span><span class="s">&#39;CH2&#39;</span><span class="p">,</span><span class="s">&#39;CH3&#39;</span><span class="p">]</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">col2</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;CAP&#39;</span><span class="p">,</span><span class="s">&#39;SEN&#39;</span><span class="p">,</span><span class="s">&#39;AN8&#39;</span><span class="p">]</span>
			<span class="n">pos</span><span class="o">=</span><span class="mi">0</span>
			<span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col1</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">col2</span><span class="p">):</span>
				<span class="n">item</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">();</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">item</span><span class="p">);</span>	<span class="n">item</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="n">a</span><span class="p">)</span>
				<span class="n">item</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">();</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">item</span><span class="p">);</span> <span class="n">item</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="n">b</span><span class="p">)</span>

				<span class="n">item</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">();</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">item</span><span class="p">);</span>	<span class="n">item</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
				<span class="n">item</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">();</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">item</span><span class="p">);</span> <span class="n">item</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>

				<span class="n">pos</span><span class="o">+=</span><span class="mi">1</span>


		<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">pos</span> <span class="o">=</span><span class="mi">0</span> 
			<span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col1</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">col2</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">get_average_voltage</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="s">&#39;V&#39;</span><span class="p">))</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">get_average_voltage</span><span class="p">(</span><span class="n">b</span><span class="p">),</span><span class="s">&#39;V&#39;</span><span class="p">))</span>
				<span class="n">pos</span><span class="o">+=</span><span class="mi">1</span>

	<span class="k">class</span> <span class="nc">supplyWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,</span><span class="n">supplyWidget</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">,</span><span class="n">utils</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">supplyWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="n">I</span>

		<span class="k">def</span> <span class="nf">setPV1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">setVoltage</span><span class="p">(</span><span class="s">&#39;PV1&#39;</span><span class="p">,</span><span class="n">val</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">PV1_LABEL</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="s">&#39;V&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setPV2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">setVoltage</span><span class="p">(</span><span class="s">&#39;PV2&#39;</span><span class="p">,</span><span class="n">val</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">PV2_LABEL</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="s">&#39;V&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setPV3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">setVoltage</span><span class="p">(</span><span class="s">&#39;PV3&#39;</span><span class="p">,</span><span class="n">val</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">PV3_LABEL</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="s">&#39;V&#39;</span><span class="p">))</span>

		<span class="k">def</span> <span class="nf">setPCS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">val</span><span class="p">):</span>
			<span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">setVoltage</span><span class="p">(</span><span class="s">&#39;PCS&#39;</span><span class="p">,</span><span class="n">val</span><span class="o">/</span><span class="mf">1.e3</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">PCS_LABEL</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">applySIPrefix</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="s">&#39;A&#39;</span><span class="p">))</span>

	<span class="k">class</span> <span class="nc">setStateIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFrame</span><span class="p">,</span><span class="n">setStateList</span><span class="o">.</span><span class="n">Ui_Form</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">args</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">utilitiesClass</span><span class="o">.</span><span class="n">setStateIcon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;I&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">toggle1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">SQR1</span> <span class="o">=</span> <span class="n">state</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">toggle2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">SQR2</span> <span class="o">=</span> <span class="n">state</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">toggle3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">SQR3</span> <span class="o">=</span> <span class="n">state</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">toggle4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">state</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">I</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">SQR4</span> <span class="o">=</span> <span class="n">state</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addPV1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">tmpfunc</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">__setRawVoltage__</span><span class="p">,</span><span class="s">&#39;PV1&#39;</span><span class="p">)</span>
		<span class="n">a1</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;PV1&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">4095</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">tmpfunc</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Programmable Voltage Source 1&#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a1</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addPV2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">tmpfunc</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">__setRawVoltage__</span><span class="p">,</span><span class="s">&#39;PV2&#39;</span><span class="p">)</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;PV2&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">4095</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">tmpfunc</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Programmable Voltage Source 2&#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addPV3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">tmpfunc</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">__setRawVoltage__</span><span class="p">,</span><span class="s">&#39;PV3&#39;</span><span class="p">)</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;PV3&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">4095</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">tmpfunc</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Programmable Voltage Source 3&#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addPCS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">tmpfunc</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">DAC</span><span class="o">.</span><span class="n">__setRawVoltage__</span><span class="p">,</span><span class="s">&#39;PCS&#39;</span><span class="p">)</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;PCS&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">4095</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">tmpfunc</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;A&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Programmable Current Source&#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addVoltmeter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">tmpfunc</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">,</span><span class="n">samples</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;VOLTMETER&#39;</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">tmpfunc</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Voltmeter&#39;</span><span class="p">,</span><span class="s">&#39;OPTIONS&#39;</span><span class="p">:</span><span class="n">I</span><span class="o">.</span><span class="n">allAnalogChannels</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectAndButtonIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addW1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;Wave 1&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">5000</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">I</span><span class="o">.</span><span class="n">set_w1</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;Hz&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Frequency of waveform generator #1&#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialAndDoubleSpinIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addW2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;Wave 2&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">5000</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">I</span><span class="o">.</span><span class="n">set_w2</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;Hz&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Frequency of waveform generator #2&#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialAndDoubleSpinIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addSQR1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;SQR 1&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">100000</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">I</span><span class="o">.</span><span class="n">sqr1</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;Hz&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Frequency of SQR1&#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">link</span><span class="p">:</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;LINK&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialAndDoubleSpinIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">addTimebase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">func</span><span class="p">):</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;TIMEBASE&#39;</span><span class="p">,</span><span class="s">&#39;MIN&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;MAX&#39;</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">func</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">&#39;S&#39;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Set Timebase of the oscilloscope&#39;</span><span class="p">}</span>
		<span class="n">T2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>
		<span class="n">T2</span><span class="o">.</span><span class="n">dial</span><span class="o">.</span><span class="n">setPageStep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
		<span class="n">T2</span><span class="o">.</span><span class="n">dial</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">T2</span>

	<span class="k">def</span> <span class="nf">addRes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">wide</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;TITLE&#39;</span><span class="p">:</span><span class="s">&#39;RESISTANCE&#39;</span><span class="p">,</span><span class="s">&#39;FUNC&#39;</span><span class="p">:</span><span class="n">I</span><span class="o">.</span><span class="n">get_resistance</span><span class="p">,</span><span class="s">&#39;UNITS&#39;</span><span class="p">:</span><span class="s">u&quot;</span><span class="se">\u03A9</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&#39;TOOLTIP&#39;</span><span class="p">:</span><span class="s">&#39;Read Resistance connected to SEN input &#39;</span><span class="p">}</span>
		<span class="k">if</span> <span class="n">wide</span><span class="p">:</span> <span class="n">T2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wideButtonIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span> <span class="n">T2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buttonIcon</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">T2</span>

	<span class="k">def</span> <span class="nf">addPauseButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">layout</span><span class="p">,</span><span class="n">func</span><span class="p">):</span>
		<span class="n">freezeButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">freezeButton</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="n">_fromUtf8</span><span class="p">(</span><span class="s">&quot;freezeButton&quot;</span><span class="p">))</span>
		<span class="n">freezeButton</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&quot;Pause&quot;</span><span class="p">)</span>
		<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">freezeButton</span><span class="p">)</span>
		<span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">freezeButton</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="n">_fromUtf8</span><span class="p">(</span><span class="s">&quot;toggled(bool)&quot;</span><span class="p">)),</span> <span class="n">func</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">freezeButton</span>

	<span class="k">def</span> <span class="nf">addRegularButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">layout</span><span class="p">,</span><span class="n">func</span><span class="p">,</span><span class="n">name</span><span class="p">):</span>
		<span class="n">Button</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">Button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="n">_fromUtf8</span><span class="p">(</span><span class="s">&quot;button&quot;</span><span class="p">))</span>
		<span class="n">Button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">Button</span><span class="p">)</span>
		<span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">Button</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="n">_fromUtf8</span><span class="p">(</span><span class="s">&quot;clicked()&quot;</span><span class="p">)),</span> <span class="n">func</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">Button</span>

	<span class="k">def</span> <span class="nf">addHelpImageToLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">layout</span><span class="p">,</span><span class="n">filename</span><span class="p">):</span>
		<span class="n">imgurl</span> <span class="o">=</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="s">&#39;seel_res.HTML.images&#39;</span><span class="p">,</span><span class="n">filename</span><span class="p">)</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">addPixMapToLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="n">imgurl</span><span class="p">))</span>

	<span class="k">def</span> <span class="nf">addPixMapToLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">layout</span><span class="p">,</span><span class="n">pixmap</span><span class="p">):</span>
		<span class="n">pic</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">pic</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">120</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setPixMapOnLabel</span><span class="p">(</span><span class="n">pic</span><span class="p">,</span><span class="n">pixmap</span><span class="p">)</span>
		<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">pic</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">pic</span>

	<span class="k">def</span> <span class="nf">setPixMapOnLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">pic</span><span class="p">,</span><span class="n">pixmap</span><span class="p">):</span>
		<span class="n">pic</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="n">pic</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">))</span> 

	<span class="k">def</span> <span class="nf">saveToCSV</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">table</span><span class="p">):</span>
		<span class="n">path</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;Save File&#39;</span><span class="p">,</span> <span class="s">&#39;~/&#39;</span><span class="p">,</span> <span class="s">&#39;CSV(*.csv)&#39;</span><span class="p">)</span>
		<span class="n">sections</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">sections</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="s">&#39;csv&#39;</span><span class="p">):</span><span class="n">path</span><span class="o">+=</span><span class="s">&#39;.csv&#39;</span>
		<span class="k">if</span> <span class="n">path</span><span class="p">:</span>
			<span class="kn">import</span> <span class="nn">csv</span>
			<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
				<span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
				<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()):</span>
					<span class="n">rowdata</span> <span class="o">=</span> <span class="p">[]</span>
					<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">columnCount</span><span class="p">()):</span>
						<span class="n">item</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
						<span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
							<span class="n">rowdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
								<span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">text</span><span class="p">())</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">))</span>
						<span class="k">else</span><span class="p">:</span>
							<span class="n">rowdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
					<span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">rowdata</span><span class="p">)</span>
	
	<span class="k">def</span> <span class="nf">saveDataWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">curveList</span><span class="p">,</span><span class="n">plot</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">utilityApps</span> <span class="kn">import</span> <span class="n">plotSaveWindow</span>
		<span class="n">info</span> <span class="o">=</span> <span class="n">plotSaveWindow</span><span class="o">.</span><span class="n">AppWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">curveList</span><span class="p">,</span><span class="n">plot</span><span class="p">)</span>
		<span class="n">info</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

	<span class="k">def</span> <span class="nf">savePro</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">expanduser</span>
		<span class="n">path</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;Save Profile&#39;</span><span class="p">,</span>  <span class="n">expanduser</span><span class="p">(</span><span class="s">&quot;./&quot;</span><span class="p">),</span> <span class="s">&#39;INI(*.ini)&#39;</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">path</span><span class="p">:</span>
			<span class="n">sections</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
			<span class="k">if</span><span class="p">(</span><span class="n">sections</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="s">&#39;ini&#39;</span><span class="p">):</span><span class="n">path</span><span class="o">+=</span><span class="s">&#39;.ini&#39;</span>
			<span class="n">saveProfile</span><span class="o">.</span><span class="n">guisave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="o">.</span><span class="n">IniFormat</span><span class="p">))</span>

	<span class="k">def</span> <span class="nf">saveSelectedPro</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">expanduser</span>
		<span class="n">path</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;Save Profile&#39;</span><span class="p">,</span>  <span class="n">expanduser</span><span class="p">(</span><span class="s">&quot;./&quot;</span><span class="p">),</span> <span class="s">&#39;INI(*.ini)&#39;</span><span class="p">)</span>
		<span class="n">sections</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">sections</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="s">&#39;ini&#39;</span><span class="p">):</span><span class="n">path</span><span class="o">+=</span><span class="s">&#39;.ini&#39;</span>
		<span class="k">print</span> <span class="p">(</span><span class="s">&#39;custom save&#39;</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">path</span><span class="p">:</span> <span class="n">saveProfile</span><span class="o">.</span><span class="n">guisave</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="o">.</span><span class="n">IniFormat</span><span class="p">))</span>

	<span class="k">def</span> <span class="nf">loadPro</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">expanduser</span>
		<span class="n">filename</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="s">&quot;Load a Profile&quot;</span><span class="p">,</span> <span class="n">expanduser</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">),</span> <span class="s">&#39;INI(*.ini)&#39;</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">filename</span> <span class="p">:</span>
			<span class="n">saveProfile</span><span class="o">.</span><span class="n">guirestore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="o">.</span><span class="n">IniFormat</span><span class="p">))</span>

	<span class="k">def</span> <span class="nf">getFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">filetype</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">expanduser</span>
		<span class="k">if</span> <span class="n">filetype</span><span class="p">:</span>
			<span class="n">filename</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="s">&quot;Select File&quot;</span><span class="p">,</span> <span class="n">expanduser</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">filename</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="s">&quot;Select File&quot;</span><span class="p">,</span> <span class="n">expanduser</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">),</span><span class="n">filetype</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">filename</span>



	<span class="c">######################### high level functions ##################################</span>

	<span class="k">def</span> <span class="nf">addWG</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">widget</span><span class="p">,</span><span class="n">layout</span><span class="p">):</span>
		<span class="n">studioCMDS</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;W1&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addW1</span><span class="p">,</span><span class="s">&#39;W2&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addW2</span><span class="p">,</span><span class="s">&#39;PV1&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addPV1</span><span class="p">,</span><span class="s">&#39;PV2&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addPV2</span><span class="p">,</span><span class="s">&#39;PV3&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addPV3</span><span class="p">,</span><span class="s">&#39;PCS&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addPCS</span><span class="p">,</span><span class="s">&#39;SQR1&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addSQR1</span><span class="p">,</span><span class="s">&#39;VOLTMETER&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addVoltmeter</span><span class="p">,</span><span class="s">&#39;OHMMETER&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">addRes</span><span class="p">}</span>
		<span class="n">name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
		<span class="n">TP</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;type&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">TP</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span>
		
		<span class="k">if</span> <span class="n">TP</span> <span class="ow">in</span> <span class="n">studioCMDS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
			<span class="n">LINK</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;LINK&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">LINK</span><span class="p">:</span>
				<span class="n">WG</span> <span class="o">=</span> <span class="n">studioCMDS</span><span class="p">[</span><span class="n">TP</span><span class="p">](</span><span class="n">I</span><span class="p">,</span><span class="n">LINK</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">WG</span> <span class="o">=</span> <span class="n">studioCMDS</span><span class="p">[</span><span class="n">TP</span><span class="p">](</span><span class="n">I</span><span class="p">)</span>
			<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">WG</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">studioWidgets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">=</span><span class="n">WG</span>
			<span class="k">return</span> <span class="n">WG</span>
		<span class="k">return</span> <span class="bp">None</span>
</pre></div></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">SEELablet Applications 1.0.5 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Jithin BP.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>